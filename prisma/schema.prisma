generator client {
  provider = "prisma-client"
  output   = "../generated/prisma/client"
}

datasource db {
  provider = "postgresql"
}

model Address {
  id             String    @id
  street         String
  city           String
  postCode       String    @map("post_code")
  country        String
  clientInvoices Invoice[] @relation("Invoice_client_address_idToAddress")
  senderInvoices Invoice[] @relation("Invoice_sender_address_idToAddress")
}

model Invoice {
  id              String        @id @db.Char(6)
  createdAt       DateTime      @default(now()) @map("created_at")
  paymentDue      DateTime      @map("payment_due")
  description     String
  paymentTerms    Int           @map("payment_terms")
  clientName      String        @map("client_name")
  clientEmail     String        @map("client_email")
  status          String
  senderAddressId String        @map("sender_address_id")
  clientAddressId String        @map("client_address_id")
  clientAddress   Address       @relation("Invoice_client_address_idToAddress", fields: [clientAddressId], references: [id])
  senderAddress   Address       @relation("Invoice_sender_address_idToAddress", fields: [senderAddressId], references: [id])
  items           InvoiceItem[]
}

model InvoiceItem {
  id        String  @id
  invoiceId String  @map("invoice_id") @db.Char(6)
  name      String
  quantity  Int
  price     Decimal @db.Decimal(12, 2)
  total     Decimal @db.Decimal(12, 2)
  invoice   Invoice @relation(fields: [invoiceId], references: [id])
}
